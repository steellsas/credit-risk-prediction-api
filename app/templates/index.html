<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Credit Default Risk Predictor</title>
  <meta name="description" content="Use this AI-powered tool to predict the likelihood of default on a home credit loan. Get instant insights based on applicant data.">
 
  <link rel="stylesheet" href="/static/style.css">
</head>
  <div class="header-container">
     <body>
   <div style="text-align: center; margin-bottom: 20px;">
  <img src="/static/image.png"" alt="Credit Defaulters Predictor Icon" style="width: 400px;">
  <h1>Home Credit Default Risk Predictor</h1>
</div>

    <p>Enter applicant details to estimate the probability of loan default. This tool uses machine learning to provide fast, data-driven predictions to support smarter financial decisions.</p>
  </div>

<form id="predict-form">

  <!-- Identification -->
  <fieldset>
    <legend>Identification & Demographics</legend>

    <div class="form-group">
      <label for="SK_ID_CURR">Customer ID</label>
      <input type="number" name="SK_ID_CURR" id="SK_ID_CURR" required>
    </div>

    <div class="form-group">
      <label for="CODE_GENDER">Gender</label>
      <select name="CODE_GENDER" id="CODE_GENDER" required>
        <option value="M">Male</option>
        <option value="F">Female</option>
      </select>
    </div>

    <div class="form-group">
      <label for="DAYS_BIRTH">Age</label>
      <input type="number" name="DAYS_BIRTH" id="DAYS_BIRTH" max="100" required>
    </div>

    <div class="form-group">
      <label for="DAYS_EMPLOYED">Days Employed</label>
      <input type="number" name="DAYS_EMPLOYED" id="DAYS_EMPLOYED" min="0" required>
    </div>

    <div class="form-group">
      <label for="DAYS_ID_PUBLISH">Days Since ID Published</label>
      <input type="number" name="DAYS_ID_PUBLISH" id="DAYS_ID_PUBLISH" max="0" required>
    </div>

    <div class="form-group">
      <label for="DAYS_REGISTRATION">Days Since Registration</label>
      <input type="number" name="DAYS_REGISTRATION" id="DAYS_REGISTRATION" max="0" required>
    </div>

    <div class="form-group">
      <label for="DAYS_LAST_PHONE_CHANGE">Days Since Last Phone Change</label>
      <input type="number" name="DAYS_LAST_PHONE_CHANGE" id="DAYS_LAST_PHONE_CHANGE" max="0" required>
    </div>

    <div class="form-group">
      <label for="OWN_CAR_AGE">Car Age (years)</label>
      <input type="number" step="0.01" name="OWN_CAR_AGE" id="OWN_CAR_AGE">
    </div>

    <div class="form-group">
      <label for="CNT_FAM_MEMBERS">Number of Family Members</label>
      <input type="number" step="0.01" name="CNT_FAM_MEMBERS" id="CNT_FAM_MEMBERS" required>
    </div>


  <!-- <fieldset>
  <legend>Contract Info</legend> -->

  <div class="form-group">
    <label for="NAME_CONTRACT_TYPE">Contract Type</label>
    <select name="NAME_CONTRACT_TYPE" required>
      <option value="Cash loans">Cash loans</option>
      <option value="Revolving loans">Revolving loans</option>
    </select>
  </div>
<!-- </fieldset> -->

  
  </fieldset>

<fieldset>
  <legend>Housing & Property</legend>

  <div class="form-group">
    <label for="TOTALAREA_MODE">Total Area (Normalized)</label>
    <input type="number" step="0.0001" name="TOTALAREA_MODE" id="TOTALAREA_MODE" required>
  </div>

  <div class="form-group">
    <label for="APARTMENTS_AVG">Apartments (Average)</label>
    <input type="number" step="0.0001" name="APARTMENTS_AVG" id="APARTMENTS_AVG" required>
  </div>

  <div class="form-group">
    <label for="APARTMENTS_MEDI">Apartments (Median)</label>
    <input type="number"step="0.0001" name="APARTMENTS_MEDI" id="APARTMENTS_MEDI" required>
  </div>

  <div class="form-group">
    <label for="APARTMENTS_MODE">Apartments (Mode)</label>
    <input type="number" step="0.0001" name="APARTMENTS_MODE" id="APARTMENTS_MODE" required>
  </div>

  <div class="form-group">
    <label for="FLOORSMAX_MODE">Max Floors (Mode)</label>
    <input type="number"step="0.0001" name="FLOORSMAX_MODE" id="FLOORSMAX_MODE" required>
  </div>

  <div class="form-group">
    <label for="FLOORSMAX_MEDI">Max Floors (Median)</label>
    <input type="number" step="0.0001" name="FLOORSMAX_MEDI" id="FLOORSMAX_MEDI" required>
  </div>

  <div class="form-group">
    <label for="FLOORSMAX_AVG">Max Floors (Average)</label>
    <input type="number" step="0.0001" name="FLOORSMAX_AVG" id="FLOORSMAX_AVG" required>
  </div>

  <div class="form-group">
    <label for="FLOORSMIN_MODE">Min Floors (Mode)</label>
    <input type="number" step="0.0001" name="FLOORSMIN_MODE" id="FLOORSMIN_MODE" required>
  </div>

  <div class="form-group">
    <label for="FLOORSMIN_MEDI">Min Floors (Median)</label>
    <input type="number" step="0.0001" name="FLOORSMIN_MEDI" id="FLOORSMIN_MEDI" required>
  </div>

  <div class="form-group">
    <label for="ENTRANCES_MODE">Entrances (Mode)</label>
    <input type="number" step="0.0001" name="ENTRANCES_MODE" id="ENTRANCES_MODE" required>
  </div>

  <div class="form-group">
    <label for="YEARS_BUILD_AVG">Year Built (Average)</label>
    <input type="number" step="0.0001" name="YEARS_BUILD_AVG" id="YEARS_BUILD_AVG" required>
  </div>

  <div class="form-group">
    <label for="YEARS_BUILD_MEDI">Year Built (Median)</label>
    <input type="number" step="0.0001" name="YEARS_BUILD_MEDI" id="YEARS_BUILD_MEDI" required>
  </div>

  <div class="form-group">
    <label for="YEARS_BUILD_MODE">Year Built (Mode)</label>
    <input type="number" step="0.0001" name="YEARS_BUILD_MODE" id="YEARS_BUILD_MODE" required>
  </div>

  <div class="form-group">
    <label for="LIVINGAREA_AVG">Living Area (Average)</label>
    <input type="number" step="0.0001" name="LIVINGAREA_AVG" id="LIVINGAREA_AVG" required>
  </div>

  <div class="form-group">
    <label for="LIVINGAREA_MEDI">Living Area (Median)</label>
    <input type="number" step="0.0001" name="LIVINGAREA_MEDI" id="LIVINGAREA_MEDI" required>
  </div>
</fieldset>


<fieldset>
  <legend>Family & Social Circle</legend>

  <div class="form-group">
    <label for="NAME_FAMILY_STATUS">Family Status</label>
    <select name="NAME_FAMILY_STATUS" id="NAME_FAMILY_STATUS" required>
      <option value="Married">Married</option>
      <option value="Single / not married">Single / not married</option>
      <option value="Civil marriage">Civil marriage</option>
      <option value="Separated">Separated</option>
      <option value="Widow">Widow</option>
    </select>
  </div>

  <div class="form-group">
    <label for="DEF_30_CNT_SOCIAL_CIRCLE">Social Circle (30 Days)</label>
    <input type="number" step="0.01" name="DEF_30_CNT_SOCIAL_CIRCLE" id="DEF_30_CNT_SOCIAL_CIRCLE" required>
  </div>

  <div class="form-group">
    <label for="DEF_60_CNT_SOCIAL_CIRCLE">Social Circle (60 Days)</label>
    <input type="number" step="0.01" name="DEF_60_CNT_SOCIAL_CIRCLE" id="DEF_60_CNT_SOCIAL_CIRCLE" required>
  </div>
</fieldset>
<fieldset>

  <legend>External Scores</legend>

  <div class="form-group">
    <label for="EXT_SOURCE_1">External Source 1</label>
    <input type="number" step="0.000001" min="0" max="1" name="EXT_SOURCE_1" id="EXT_SOURCE_1" required>
  </div>

  <div class="form-group">
    <label for="EXT_SOURCE_2">External Source 2</label>
    <input type="number" step="0.000001" min="0" max="1" name="EXT_SOURCE_2" id="EXT_SOURCE_2" required>
  </div>

  <div class="form-group">
    <label for="EXT_SOURCE_3">External Source 3</label>
    <input type="number" step="0.000001" min="0" max="1" name="EXT_SOURCE_3" id="EXT_SOURCE_3" required>
  </div>
</fieldset>


<fieldset>
  <legend>Education & Employment</legend>

  <div class="form-group">
    <label for="NAME_EDUCATION_TYPE">Education Level</label>
    <select name="NAME_EDUCATION_TYPE" id="NAME_EDUCATION_TYPE" required>
      <option value="Secondary / secondary special">Secondary / secondary special</option>
      <option value="Higher education">Higher education</option>
      <option value="Incomplete higher">Incomplete higher</option>
      <option value="Lower secondary">Lower secondary</option>
      <option value="Academic degree">Academic degree</option>
    </select>
  </div>

  <div class="form-group">
    <label for="NAME_INCOME_TYPE">Income Type</label>
    <select name="NAME_INCOME_TYPE" id="NAME_INCOME_TYPE" required>
      <option value="Working">Working</option>
      <option value="Pensioner">Pensioner</option>
      <option value="State servant">State servant</option>
      <option value="Commercial associate">Commercial associate</option>
      <option value="Unemployed">Unemployed</option>
    </select>
  </div>

  <div class="form-group">
    <label for="OCCUPATION_TYPE">Occupation</label>
    <select name="OCCUPATION_TYPE" id="OCCUPATION_TYPE" required>
      <option value="Laborers">Laborers</option>
      <option value="Core staff">Core staff</option>
      <option value="Accountants">Accountants</option>
      <option value="Managers">Managers</option>
      <option value="Drivers">Drivers</option>
      <option value="Sales staff">Sales staff</option>
      <option value="Other">Other</option>
    </select>
  </div>

  <div class="form-group">
    <label for="ORGANIZATION_TYPE">Organization Type</label>
    <select name="ORGANIZATION_TYPE" id="ORGANIZATION_TYPE" required>
      <option value="Business Entity Type 3">Business Entity Type 3</option>
      <option value="School">School</option>
      <option value="Government">Government</option>
      <option value="Self-employed">Self-employed</option>
      <option value="Medicine">Medicine</option>
      <option value="Other">Other</option>
    </select>
  </div>
</fieldset>



<fieldset>
  <legend>Credit & Financials</legend>

  <div class="form-group">
    <label for="AMT_CREDIT">Total Credit Amount (‚Ç¨)</label>
    <input type="number" step="0.01" name="AMT_CREDIT" id="AMT_CREDIT" required>
  </div>

  <div class="form-group">
    <label for="AMT_GOODS_PRICE">Goods Price (‚Ç¨)</label>
    <input type="number" step="0.01" name="AMT_GOODS_PRICE" id="AMT_GOODS_PRICE" required>
  </div>

  <div class="form-group">
    <label for="AMT_ANNUITY">Annuity Amount (‚Ç¨)</label>
    <input type="number" step="0.01" name="AMT_ANNUITY" id="AMT_ANNUITY" required>
  </div>

  <div class="form-group">
    <label for="AMT_INCOME_TOTAL">Total Annual Income (‚Ç¨)</label>
    <input type="number" step="0.01" name="AMT_INCOME_TOTAL" id="AMT_INCOME_TOTAL" required>
  </div>

  <div class="form-group">
    <label for="AMT_REQ_CREDIT_BUREAU_YEAR">Credit Bureau Requests (Last Year)</label>
    <input type="number" name="AMT_REQ_CREDIT_BUREAU_YEAR" id="AMT_REQ_CREDIT_BUREAU_YEAR" min="0" required>
  </div>

  <div class="form-group">
    <label for="AMT_REQ_CREDIT_BUREAU_MON">Credit Bureau Requests (Last Month)</label>
    <input type="number" name="AMT_REQ_CREDIT_BUREAU_MON" id="AMT_REQ_CREDIT_BUREAU_MON" min="0" required>
  </div>
</fieldset>


<fieldset>
  <legend>Region & Location</legend>

  <div class="form-group">
    <label for="REG_CITY_NOT_LIVE_CITY">Registered City ‚â† Living City</label>
    <select name="REG_CITY_NOT_LIVE_CITY" id="REG_CITY_NOT_LIVE_CITY" required>
      <option value="1">Yes</option>
      <option value="0">No</option>
    </select>
  </div>

  <div class="form-group">
    <label for="REGION_RATING_CLIENT">Region Rating (Client)</label>
    <input type="number" name="REGION_RATING_CLIENT" id="REGION_RATING_CLIENT" min="1" max="3" required>
  </div>

  <div class="form-group">
    <label for="REGION_RATING_CLIENT_W_CITY">Region Rating (Client with City)</label>
    <input type="number" name="REGION_RATING_CLIENT_W_CITY" id="REGION_RATING_CLIENT_W_CITY" min="1" max="3" required>
  </div>
</fieldset>
  
<fieldset>
  <div class="form-group">
    <label for="FLAG_DOCUMENT_3">Submitted: Document Type 3</label>
    <select name="FLAG_DOCUMENT_3" required>
      <option value="1">Yes</option>
      <option value="0">No</option>
    </select>
  </div>

  <div class="form-group">
    <label for="FLAG_DOCUMENT_18">Submitted: Document Type 18</label>
    <select name="FLAG_DOCUMENT_18" required>
      <option value="1">Yes</option>
      <option value="0">No</option>
    </select>
  </div>
</fieldset>

  <!-- Submit -->
  <button type="submit">Predict</button>
     <div class="result" id="result"></div>

</form>




<script>
  const formData = {
    "SK_ID_CURR": 100002,
    "ORGANIZATION_TYPE": "Business Entity Type 3",
    "NAME_CONTRACT_TYPE": "Cash loans",
    "NAME_EDUCATION_TYPE": "Secondary / secondary special",
    "OCCUPATION_TYPE": "Laborers",
    "NAME_INCOME_TYPE": "Working",
    "AMT_CREDIT": 406597.5,
    "FLOORSMAX_MODE": 0.0833,
    "EXT_SOURCE_2": 0.262949,
    "EXT_SOURCE_3": 0.139376,
    "NAME_FAMILY_STATUS": "Single / not married",
    "EXT_SOURCE_1": 0.083037,
    "AMT_GOODS_PRICE": 351000.0,
    "FLOORSMIN_MODE": 0.125,
    "ENTRANCES_MODE": 0.069,
    "YEARS_BUILD_AVG": 0.6192,
    "LIVINGAREA_AVG": 0.019,
    "DEF_30_CNT_SOCIAL_CIRCLE": 2.0,
    "FLAG_DOCUMENT_18": 0,
    "DAYS_LAST_PHONE_CHANGE": -1134.0,
    "FLOORSMAX_MEDI": 0.0833,
    "APARTMENTS_MEDI": 0.025,
    "AMT_REQ_CREDIT_BUREAU_YEAR": 1.0,
    "APARTMENTS_AVG": 0.0247,
    "TOTALAREA_MODE": 0.0149,
    "REG_CITY_NOT_LIVE_CITY": 0,
    "REGION_RATING_CLIENT_W_CITY": 2,
    "AMT_REQ_CREDIT_BUREAU_MON": 0.0,
    "APARTMENTS_MODE": 0.0252,
    "FLOORSMAX_AVG": 0.0833,
    "FLAG_DOCUMENT_3": 1,
    "DAYS_ID_PUBLISH": -2120,
    "AMT_ANNUITY": 24700.5,
    "DAYS_BIRTH": 26.0,
    "DAYS_EMPLOYED": 637,
    "LIVINGAREA_MEDI": 0.0193,
    "REGION_RATING_CLIENT": 2,
    "FLOORSMIN_MEDI": 0.125,
    "DAYS_REGISTRATION": -3648.0,
    "YEARS_BUILD_MEDI": 0.6243,
    "YEARS_BUILD_MODE": 0.6341,
    "DEF_60_CNT_SOCIAL_CIRCLE": 2.0,
    "CODE_GENDER": "M",
    "OWN_CAR_AGE": null,
    "AMT_INCOME_TOTAL": 202500.0,
    "CNT_FAM_MEMBERS": 1.0
  };

  window.addEventListener("DOMContentLoaded", () => {
    // Auto-fill form
    for (const [key, value] of Object.entries(formData)) {
      const field = document.getElementById(key);
      if (field) {
        field.value = value !== null ? value : "";
      }
    }

    // Handle form submission
    document.getElementById("predict-form").addEventListener("submit", async function (e) {
      e.preventDefault();

      const submitButton = e.submitter;
      submitButton.disabled = true;
      submitButton.classList.add("loading");
      submitButton.innerText = "‚è≥ Processing...";

      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());

      for (let key in data) {
        if (data[key] === "") {
          data[key] = null;
        } else if (!isNaN(data[key])) {
          data[key] = parseFloat(data[key]);
        }
      }

      document.getElementById("result").innerText = "üîÑ Predicting...";

      try {
        const response = await fetch("/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        if (!response.ok) throw new Error("Server error");

        const result = await response.json();
        document.getElementById("result").innerText =
          `üìä Prediction: ${result.prediction === 1 ? "Approved ‚úÖ" : "Rejected ‚ùå"}\nüî¢ Probability: ${(result.probability * 100).toFixed(2)}%`;
      } catch (error) {
        document.getElementById("result").innerText = "‚ùå Error: Unable to get prediction.";
        console.error("Prediction error:", error);
      } finally {
        submitButton.disabled = false;
        submitButton.classList.remove("loading");
        submitButton.innerText = "Submit";
      }
    });
  });
</script>

  
<!-- <script>
  const formData = {
    "SK_ID_CURR": 100002,
    "ORGANIZATION_TYPE": "Business Entity Type 3",
    "NAME_CONTRACT_TYPE": "Cash loans",
    "NAME_EDUCATION_TYPE": "Secondary / secondary special",
    "OCCUPATION_TYPE": "Laborers",
    "NAME_INCOME_TYPE": "Working",
    "AMT_CREDIT": 406597.5,
    "FLOORSMAX_MODE": 0.0833,
    "EXT_SOURCE_2": 0.262949,
    "EXT_SOURCE_3": 0.139376,
    "NAME_FAMILY_STATUS": "Single / not married",
    "EXT_SOURCE_1": 0.083037,
    "AMT_GOODS_PRICE": 351000.0,
    "FLOORSMIN_MODE": 0.125,
    "ENTRANCES_MODE": 0.069,
    "YEARS_BUILD_AVG": 0.6192,
    "LIVINGAREA_AVG": 0.019,
    "DEF_30_CNT_SOCIAL_CIRCLE": 2.0,
    "FLAG_DOCUMENT_18": 0,
    "DAYS_LAST_PHONE_CHANGE": -1134.0,
    "FLOORSMAX_MEDI": 0.0833,
    "APARTMENTS_MEDI": 0.025,
    "AMT_REQ_CREDIT_BUREAU_YEAR": 1.0,
    "APARTMENTS_AVG": 0.0247,
    "TOTALAREA_MODE": 0.0149,
    "REG_CITY_NOT_LIVE_CITY": 0,
    "REGION_RATING_CLIENT_W_CITY": 2,
    "AMT_REQ_CREDIT_BUREAU_MON": 0.0,
    "APARTMENTS_MODE": 0.0252,
    "FLOORSMAX_AVG": 0.0833,
    "FLAG_DOCUMENT_3": 1,
    "DAYS_ID_PUBLISH": -2120,
    "AMT_ANNUITY": 24700.5,
    "DAYS_BIRTH": 26.0,
    "DAYS_EMPLOYED": 637,
    "LIVINGAREA_MEDI": 0.0193,
    "REGION_RATING_CLIENT": 2,
    "FLOORSMIN_MEDI": 0.125,
    "DAYS_REGISTRATION": -3648.0,
    "YEARS_BUILD_MEDI": 0.6243,
    "YEARS_BUILD_MODE": 0.6341,
    "DEF_60_CNT_SOCIAL_CIRCLE": 2.0,
    "CODE_GENDER": "M",
    "OWN_CAR_AGE": null,
    "AMT_INCOME_TOTAL": 202500.0,
    "CNT_FAM_MEMBERS": 1.0

  window.addEventListener("DOMContentLoaded", () => {
    for (const [key, value] of Object.entries(formData)) {
      const field = document.getElementById(key);
      if (field) {
        field.value = value !== null ? value : "";
      }
    }

    document.getElementById("predict-form").addEventListener("submit", async function (e) {
      e.preventDefault();

      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());

      // Convert numeric fields
      for (let key in data) {
        if (data[key] === "") {
          data[key] = null;
        } else if (!isNaN(data[key])) {
          data[key] = parseFloat(data[key]);
        }
      }

      document.getElementById("result").innerText = "üîÑ Predicting...";

      try {
        const response = await fetch("/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        if (!response.ok) throw new Error("Server error");

        const result = await response.json();
        document.getElementById("result").innerText =
          `üìä Prediction: ${result.prediction === 1 ? "Approved ‚úÖ" : "Rejected ‚ùå"}\nüî¢ Probability: ${(result.probability * 100).toFixed(2)}%`;
      } catch (error) {
        document.getElementById("result").innerText = "‚ùå Error: Unable to get prediction.";
        console.error("Prediction error:", error);
      }
    });
  });
//   document.getElementById("predict-form").addEventListener("submit", async function (e) {
//   e.preventDefault();

//   const submitButton = e.submitter; // This gets the button that triggered the submit
//   submitButton.disabled = true;
//   submitButton.innerText = "‚è≥ Processing...";

//   const formData = new FormData(e.target);
//   const data = Object.fromEntries(formData.entries());

//   for (let key in data) {
//     if (data[key] === "") {
//       data[key] = null;
//     } else if (!isNaN(data[key])) {
//       data[key] = parseFloat(data[key]);
//     }
//   }

//   document.getElementById("result").innerText = "üîÑ Predicting...";

//   try {
//     const response = await fetch("/predict", {
//       method: "POST",
//       headers: { "Content-Type": "application/json" },
//       body: JSON.stringify(data)
//     });

//     if (!response.ok) throw new Error("Server error");

//     const result = await response.json();
//     document.getElementById("result").innerText =
//       `üìä Prediction: ${result.prediction === 1 ? "Approved ‚úÖ" : "Rejected ‚ùå"}\nüî¢ Probability: ${(result.probability * 100).toFixed(2)}%`;
//   } catch (error) {
//     document.getElementById("result").innerText = "‚ùå Error: Unable to get prediction.";
//     console.error("Prediction error:", error);
//   } finally {
//     submitButton.disabled = false;
//     submitButton.innerText = "Submit";
//   }
// });




</script>

</body>
</html>



